<div layout-fill ng-cloak=""
     infinite-scroll="more()"
     infinite-scroll-disabled='documentService.busy'
     infinite-scroll-distance='1'
     ng-include="cardMode ? 'app/customer/customer.cards.tpl.html' : 'app/customer/customer.list.tpl.html'">
</div>
<md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="right">
  <md-toolbar class="md-theme-light">
    <h1 class="md-toolbar-tools">Filter</h1>
  </md-toolbar>
  <md-content layout-padding style="padding-top:72px;">
    <form>
      <ons-list ng-model="groupKey">
        <div ng-repeat="(k,v) in filters">

        <ons-list-item ng-click="toggleGroup(k)" class="title" ng-class="{active:isGroupShown(k)}">
          <ons-icon icon="minus-square-o" ng-if="isGroupShown(k)"></ons-icon>
          <ons-icon icon="plus-square-o" ng-if="!isGroupShown(k)"></ons-icon>
          &nbsp;{{ v.group.locale }}
        </ons-list-item>

        <ons-list-item class="item-accordion" ng-repeat="t in filters[k].title" ng-show="isGroupShown(k)">
          <label class="checkbox">
            <input ng-model="filterData.titleIds[t.id]" type="checkbox" name="titleId">
            <div class="checkbox__checkmark"></div>
            <span class="ons-checkbox-inner">&nbsp;{{ t.locale || t.value }}</span>
          </label>

          <!--<label class="radio-button radio-button&#45;&#45;list-item">
            <input ng-model="formData.selectedTitleId" type="radio" name="titleId" ng-value="t.id">
            <div class="radio-button__checkmark radio-button&#45;&#45;list-item__checkmark"></div>
            {{ t.locale || t.value }}
          </label>-->

        </ons-list-item>
        </div>
      </ons-list>

    </form>
    <md-button ng-click="applyFilter()" class="md-primary">
      Apply
    </md-button>
    <md-button ng-click="closeFilter()" class="md-primary">
      Close
    </md-button>
  </md-content>
</md-sidenav>

